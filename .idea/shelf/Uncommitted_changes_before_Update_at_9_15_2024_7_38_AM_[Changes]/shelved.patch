Index: app/src/main/java/com/elifeindia/crm/view/activities/CustomerListActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.elifeindia.crm.view.activities;\r\n\r\nimport static com.elifeindia.crm.view.activities.HomeActivity.hideUpdateSubscription;\r\n\r\nimport android.app.DatePickerDialog;\r\nimport android.app.ProgressDialog;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.util.TypedValue;\r\nimport com.elifeindia.crm.Capture;\r\nimport android.view.MenuItem;\r\n\r\nimport com.google.android.material.datepicker.CalendarConstraints;\r\nimport com.google.android.material.datepicker.DateValidatorPointForward;\r\nimport com.google.zxing.integration.android.IntentIntegrator;\r\nimport com.google.zxing.integration.android.IntentResult;\r\nimport android.view.View;\r\nimport android.widget.AdapterView;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageButton;\r\nimport android.widget.ImageView;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.PopupMenu;\r\nimport android.widget.Spinner;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AlertDialog;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.cardview.widget.CardView;\r\nimport androidx.core.util.Pair;\r\nimport androidx.fragment.app.FragmentManager;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.elifeindia.crm.R;\r\nimport com.elifeindia.crm.UpdateSubscription.UpdateSubscriptionAtivity;\r\nimport com.elifeindia.crm.adapters.AdapterCallback;\r\nimport com.elifeindia.crm.adapters.CustomerListAdapter;\r\nimport com.elifeindia.crm.adapters.FilterTypeAdapter;\r\nimport com.elifeindia.crm.adapters.PagingAdapter;\r\nimport com.elifeindia.crm.contract.activities.CustomerListContract;\r\nimport com.elifeindia.crm.model.AreaResponse;\r\nimport com.elifeindia.crm.model.CustemersList;\r\nimport com.elifeindia.crm.model.PaymentStatusModel;\r\nimport com.elifeindia.crm.networking.AdapterInterface;\r\nimport com.elifeindia.crm.presenter.activities.CustomerListPresenter;\r\nimport com.elifeindia.crm.sharedpref.Constants;\r\nimport com.elifeindia.crm.sharedpref.SharedPrefsData;\r\nimport com.elifeindia.crm.utils.StaticAppData;\r\nimport com.elifeindia.crm.utils.ViewUtils;\r\n//import com.github.aakira.expandablelayout.ExpandableLayout;\r\nimport com.google.android.material.datepicker.MaterialDatePicker;\r\nimport com.google.android.material.datepicker.MaterialPickerOnPositiveButtonClickListener;\r\nimport com.google.zxing.integration.android.IntentIntegrator;\r\nimport com.jakewharton.rxbinding.widget.RxTextView;\r\n\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.Calendar;\r\nimport java.util.Date;\r\nimport java.util.GregorianCalendar;\r\nimport java.util.List;\r\nimport java.util.Locale;\r\nimport java.util.TimeZone;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class CustomerListActivity extends AppCompatActivity implements CustomerListContract.View, AdapterCallback , AdapterInterface {\r\n    CustomerListContract.Presenter presenter;\r\n    ViewUtils viewUtils;\r\n    RecyclerView rv_customer_list, rv_paging;\r\n    PagingAdapter pagingAdapter;\r\n    CustomerListAdapter customerListAdapter;\r\n   LinearLayout expandableLayout;\r\n    CardView cv_filter;\r\n    ImageButton ivbtn_search_submit,iv_scan_button;\r\n    String areaId = \"0\", companyId, empId, userId, StatusId = \"0\", selectCont = \"100\", pageNo = \"1\", Value = \"\", field_value = \"\", field_name = \"\";\r\n    Spinner spn_area, spn_status;\r\n    EditText custmersearch_edit;\r\n    ArrayAdapter<String> areaListAdapter, adapterStatus;\r\n    ImageView iv_calendar, iv_search;\r\n    AdapterCallback adapterCallback;\r\n    TextView txt_not_found, tool_bar_text, txt_req_date;\r\n    float result, i = 1, j = 1;\r\n    RecyclerView recyclerViewFilterType;\r\n    FilterTypeAdapter filterTypeAdapter;\r\n\r\n    ProgressDialog progressBar;\r\n    ImageView filter_image;\r\n    View view;\r\n    String customerID;\r\n    LinearLayout daterange;\r\n    TextView fromDate,toDate;\r\n    String fromDateData,toDataData;\r\n    FragmentManager mFragmentManager;\r\n    ImageView calenderDateRange;\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_customer_list);\r\n\r\n        Log.d(\"TAG\", \"onCreate: Anmesh pratatp singh\");\r\n\r\n        spn_area = findViewById(R.id.spn_area);\r\n        iv_calendar = findViewById(R.id.iv_calendar);\r\n        fromDate=findViewById(R.id.from_date);\r\n        toDate=findViewById(R.id.to_date);\r\n        iv_scan_button=findViewById(R.id.iv_scan_button);\r\n        calenderDateRange=findViewById(R.id.calenderDateRange);\r\n        custmersearch_edit = findViewById(R.id.custmersearch_edit);\r\n        filter_image=findViewById(R.id.filter_image);\r\n        ivbtn_search_submit = findViewById(R.id.ivbtn_search_submit);\r\n        daterange=findViewById(R.id.daterange);\r\n        expandableLayout=findViewById(R.id.fillterLayout);\r\n//      iv_search = findViewById(R.id.iv_search);\r\n        spn_status = findViewById(R.id.spn_status);\r\n        tool_bar_text = findViewById(R.id.tool_bar_text);\r\n        rv_paging = findViewById(R.id.rv_paging);\r\n        txt_req_date = findViewById(R.id.txt_req_date);\r\n        txt_not_found = findViewById(R.id.txt_not_found);\r\n        recyclerViewFilterType = findViewById(R.id.rvFilterSelection);\r\n        recyclerViewFilterType.setLayoutManager(new LinearLayoutManager(getApplicationContext(), RecyclerView.HORIZONTAL, false));\r\n        filterTypeAdapter = new FilterTypeAdapter(this, StaticAppData.filterDataList());\r\n        recyclerViewFilterType.setAdapter(filterTypeAdapter);\r\n        areaId = SharedPrefsData.getString(this, Constants.CustAreaId, Constants.PREF_NAME);\r\n        expandableLayout.setVisibility(View.GONE);\r\n        calenderDateRange.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                loadRangeDatePickerMultipleBooking();\r\n\r\n            }\r\n        });\r\n\r\n        filter_image.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if(expandableLayout.getVisibility()==View.VISIBLE){\r\n                    expandableLayout.setVisibility(View.GONE);\r\n                }else{\r\n                    expandableLayout.setVisibility(View.VISIBLE);\r\n                }\r\n            }\r\n        });\r\n\r\n        iv_scan_button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                IntentIntegrator intentIntegrator = new IntentIntegrator(CustomerListActivity.this);\r\n                //set prompt text\r\n                intentIntegrator.setPrompt(\"for flash volume up key\");\r\n                //locked orientation\r\n                intentIntegrator.setOrientationLocked(true);\r\n                //set beep enabled\r\n                intentIntegrator.setBeepEnabled(true);\r\n                //set capture activity\r\n                intentIntegrator.setCaptureActivity(Capture.class);\r\n                //initiate scann prcess\r\n                intentIntegrator.initiateScan();\r\n            }\r\n        });\r\n\r\n\r\n        viewUtils = new ViewUtils();\r\n        presenter = new CustomerListPresenter(this);\r\n        presenter.start();\r\n        adapterCallback = this;\r\n        progressBar = new ProgressDialog(this);\r\n        progressBar.setCancelable(false);//you can cancel it by pressing back button\r\n        progressBar.setMessage(\"Please wait...\");\r\n        Bundle b = getIntent().getExtras();\r\n\r\n        filterTypeAdapter.setListener(position -> {\r\n            if (StaticAppData.filterDataList().get(position).matches(\"All\")) {\r\n                field_name = \"\";\r\n                daterange.setVisibility(View.GONE);\r\n                progressBar.show();\r\n                presenter.loadCustomersDateWise(CustomerListActivity.this, companyId, userId, empId, \"0\",  StatusId, selectCont, pageNo, \"\", \"\", \"\",\"\",\"\");\r\n            } else if (StaticAppData.filterDataList().get(position).matches(\"Name\")) {\r\n                field_name = \"name\";\r\n                presenter.loadCustomersDateWise(CustomerListActivity.this, companyId, userId, empId, areaId, StatusId, selectCont, pageNo, \"\", \"\", \"\",\"\",\"\");\r\n            } else if (StaticAppData.filterDataList().get(position).matches(\"A/c No\")) {\r\n                field_name = \"account_no\";\r\n                presenter.loadCustomersDateWise(CustomerListActivity.this, companyId, userId, empId, areaId,  StatusId, selectCont, pageNo, \"\", \"\", \"\",\"\",\"\");\r\n\r\n            } else if (StaticAppData.filterDataList().get(position).matches(\"Mobile\")) {\r\n                field_name = \"contact_no\";\r\n                presenter.loadCustomersDateWise(CustomerListActivity.this, companyId, userId, empId, areaId,  StatusId, selectCont, pageNo, \"\", \"\", \"\",\"\",\"\");\r\n\r\n            } else if (StaticAppData.filterDataList().get(position).matches(\"Sub ID\")) {\r\n                field_name = \"Subscriber_id\";\r\n                presenter.loadCustomersDateWise(CustomerListActivity.this, companyId, userId, empId, areaId,  StatusId, selectCont, pageNo, \"\", \"\", \"\",\"\",\"\");\r\n\r\n            } else if (StaticAppData.filterDataList().get(position).matches(\"Box No\")) {\r\n                field_name = \"Box_no\";\r\n                presenter.loadCustomersDateWise(CustomerListActivity.this, companyId, userId, empId, areaId,  StatusId, selectCont, pageNo, \"\", \"\", \"\",\"\",\"\");\r\n\r\n            }\r\n\r\n        });\r\n\r\n\r\n        ivbtn_search_submit.setOnClickListener(view -> {\r\n            Value = custmersearch_edit.getText().toString();\r\n            if (field_name.isEmpty()) {\r\n                progressBar.show();\r\n                presenter.loadCustomersDateWise(CustomerListActivity.this, companyId, userId, empId, areaId,  StatusId, selectCont, pageNo, Value, \" \", \" \",\" \",\" \");\r\n            } else {\r\n                presenter.loadCustomersDateWise(CustomerListActivity.this, companyId, userId, empId, areaId, StatusId, selectCont, pageNo, \" \", \" \", field_name,\" \",\" \");\r\n\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n        iv_calendar.setOnClickListener(view -> {\r\n            // To show current date in the datepicker\r\n            final Calendar mcurrentDate = Calendar.getInstance();\r\n            int mYear = mcurrentDate.get(Calendar.YEAR);\r\n            int mMonth = mcurrentDate.get(Calendar.MONTH);\r\n            int mDay = mcurrentDate.get(Calendar.DAY_OF_MONTH);\r\n\r\n            DatePickerDialog mDatePicker = new DatePickerDialog(\r\n                    CustomerListActivity.this, (datepicker, selectedyear, selectedmonth, selectedday) -> {\r\n\r\n                mcurrentDate.set(Calendar.YEAR, selectedyear);\r\n                mcurrentDate.set(Calendar.MONTH, selectedmonth);\r\n                mcurrentDate.set(Calendar.DAY_OF_MONTH, selectedday);\r\n                SimpleDateFormat sdf = new SimpleDateFormat(\"dd/MMM/yyyy\", Locale.US);\r\n                txt_req_date.setText(sdf.format(mcurrentDate.getTime()));\r\n                SimpleDateFormat sdf1 = new SimpleDateFormat(\"yyyy-MM-dd\", Locale.US);\r\n                String date = sdf1.format(mcurrentDate.getTime());\r\n                presenter.loadCustomersDateWise(CustomerListActivity.this, companyId, userId, empId, areaId, StatusId, selectCont, pageNo, Value, field_value, field_name,fromDateData,toDataData);\r\n                Log.d(\"TAG\", \"onCreateStep3: \");\r\n\r\n                //SharedPrefsData.putString(CustomerListActivity.this, Constants.RequestDate, txt_req_date.getText().toString(), Constants.PREF_NAME);\r\n\r\n            }, mYear, mMonth, mDay);\r\n            // mDatePicker.getDatePicker().setMinDate(System.currentTimeMillis() - 1000);\r\n            mDatePicker.setTitle(\"Select Expiry Date\");\r\n            mDatePicker.show();\r\n        });\r\n\r\n        findViewById(R.id.iv_back).setOnClickListener(view -> {\r\n            onBackPressed();\r\n            finish();\r\n        });\r\n        cv_filter = findViewById(R.id.cv_filter);\r\n        cv_filter.setOnClickListener(view -> {\r\n//            if (expandableLayout.isExpanded()) {\r\n//                expandableLayout.collapse();\r\n//            } else {\r\n//                expandableLayout.expand();\r\n//            }\r\n        });\r\n\r\n        companyId = SharedPrefsData.getString(this, Constants.CompanyID, Constants.PREF_NAME);\r\n        userId = SharedPrefsData.getString(this, Constants.UserId, Constants.PREF_NAME);\r\n        empId = SharedPrefsData.getString(this, Constants.EmpId, Constants.PREF_NAME);\r\n        areaId = SharedPrefsData.getString(this, Constants.CustAreaId, Constants.PREF_NAME);\r\n        SharedPrefsData.putString(this, Constants.PageNo, \"1\", Constants.PREF_NAME);\r\n        SharedPrefsData.putString(this, Constants.ReceiptFlag, \"false\", Constants.ReceiptFlag);\r\n        presenter.loadArea(CustomerListActivity.this, companyId, empId);\r\n        presenter.getPaymentStatus(CustomerListActivity.this, \"0\");\r\n       // presenter.loadApi(CustomerListActivity.this, companyId, userId, empId, Value, \"100\", \"1\");\r\n\r\n         presenter.loadCustomersDateWise(CustomerListActivity.this, companyId, userId, empId, \"0\", StatusId, selectCont, pageNo, Value, field_value, field_name,\"\",\"\");\r\n        Log.d(\"TAG\", \"onCreateStep4: \");\r\n        RxTextView.textChanges(custmersearch_edit)\r\n                .debounce(1, TimeUnit.SECONDS)\r\n                .subscribe(textChanged -> {\r\n                    Value = custmersearch_edit.getText().toString();\r\n                    if (field_name.isEmpty()) {\r\n                        try {\r\n                            if(fromDateData==null && toDataData==null){\r\n                                Log.d(\"TAG\", \"onnnnnn2\");\r\n                                presenter.loadCustomersDateWise(CustomerListActivity.this, companyId, userId, empId, areaId,  StatusId, selectCont, pageNo, Value, \" \", \" \",\" \",\"  \");\r\n                            }\r\n                            else {\r\n                                Log.d(\"TAG\", \"onnnnnn1\");\r\n                                presenter.loadCustomersDateWise(CustomerListActivity.this, companyId, userId, empId, areaId,  StatusId, selectCont, pageNo, Value, \" \", \" \",fromDateData,toDataData);\r\n\r\n                            }\r\n                        } catch (Exception e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    } else {\r\n//                        presenter.loadCustomersDateWise(CustomerListActivity.this, companyId, userId, empId, areaId, \"\", StatusId, selectCont, pageNo, \"\", Value, field_name,fromDateData,toDataData);\r\n//                        Log.d(\"TAG\", \"onCreateStep2: \");\r\n                        presenter.loadCustomersDateWise(CustomerListActivity.this, companyId, userId, empId, areaId, StatusId, selectCont, pageNo, Value, \"\", field_name,\"\",\"\");\r\n\r\n                    }\r\n                });\r\n\r\n\r\n    }\r\n\r\n    private void openAlertScanner() {\r\n\r\n    }\r\n\r\n    private void loadRangeDatePickerMultipleBooking() {\r\n        MaterialDatePicker.Builder<Pair<Long, Long>> builder = MaterialDatePicker.Builder.dateRangePicker();\r\n        long today = MaterialDatePicker.todayInUtcMilliseconds();\r\n\r\n\r\n        int dialogTheme = 0;\r\n        TypedValue typedValue = new TypedValue();\r\n        if (CustomerListActivity.this.getTheme().resolveAttribute(com.google.android.material.R.attr.materialCalendarTheme, typedValue, true)) {\r\n            dialogTheme = typedValue.data;\r\n        }\r\n\r\n        Calendar calendarForPair = new GregorianCalendar();\r\n        calendarForPair.add(Calendar.DATE, 0);\r\n        long after = calendarForPair.getTimeInMillis();\r\n        Pair<Long, Long> todayPair = new Pair<>(today, after);\r\n        builder.setSelection(todayPair);\r\n        builder.setTheme(dialogTheme);\r\n        builder.setTitleText(\"Select Range of Dates\");\r\n\r\n\r\n        Calendar calendar = Calendar.getInstance(TimeZone.getTimeZone(\"UTC\"));\r\n        calendar.clear();\r\n        calendar.setTimeInMillis(today);\r\n        calendar.roll(Calendar.YEAR, 1);\r\n        long oneYearForward = calendar.getTimeInMillis();\r\n\r\n\r\n        CalendarConstraints.Builder constraintsBuilder = new CalendarConstraints.Builder();\r\n        constraintsBuilder.setStart(today);\r\n        constraintsBuilder.setEnd(oneYearForward);\r\n        constraintsBuilder.setValidator(DateValidatorPointForward.now());\r\n\r\n         builder.setCalendarConstraints(constraintsBuilder.build());\r\n\r\n        MaterialDatePicker<?> picker = builder.build();\r\n\r\n        picker.addOnPositiveButtonClickListener(new MaterialPickerOnPositiveButtonClickListener() {\r\n            @Override\r\n            public void onPositiveButtonClick(Object selection) {\r\n\r\n                Pair<Long, Long> datepair = (Pair<Long, Long>) selection;\r\n                Log.d(\"Calendar: \", selection.toString());\r\n                Date dateObjectStart = new Date(datepair.first);\r\n                Date dateObjectEnd = new Date(datepair.second);\r\n\r\n                //Set Date in Required Format\r\n                SimpleDateFormat dateTimeFormat = new SimpleDateFormat(\"yyyy-MM-dd\");\r\n                String selectedDateStart = dateTimeFormat.format(dateObjectStart);\r\n                String selectedDateEnd = dateTimeFormat.format(dateObjectEnd);\r\n                Log.d(\"Calendar: \", \" \" + selectedDateStart + \" \" + selectedDateEnd);\r\n\r\n                presenter.loadCustomersDateWise(CustomerListActivity.this, companyId, userId, empId, areaId,  StatusId, selectCont, pageNo, Value, \"\", \"\",selectedDateStart,selectedDateEnd);\r\n                daterange.setVisibility(View.VISIBLE);\r\n                fromDate.setText((\"From Date :\"+selectedDateStart));\r\n                toDate.setText((\"To Date :\"+selectedDateEnd));\r\n\r\n                fromDateData = selectedDateStart;\r\n                toDataData = selectedDateEnd;\r\n\r\n\r\n                progressBar.show();\r\n\r\n\r\n                //showSlotSelectionCustomDialog(datepair.first,datepair.second);\r\n                //startRecurringBedSelectionFragment(datepair.first,datepair.second);\r\n\r\n            }\r\n        });\r\n        picker.show(getSupportFragmentManager(), \"\");\r\n    }\r\n\r\n    @Override\r\n    public void init() {\r\n        rv_customer_list = findViewById(R.id.rv_customer_list);\r\n//        expandableLayout = findViewById(R.id.expandableLayout);\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public void showError(String message) {\r\n        // viewUtils.toast(this, message);\r\n        progressBar.dismiss();\r\n    }\r\n\r\n    @Override\r\n    public void showResult(CustemersList custemersList) {\r\n        progressBar.dismiss();\r\n        List<CustemersList.Customer> custemersLists = custemersList.getCustomer();\r\n        tool_bar_text.setText(\"Customer List (\" + custemersList.getRowcount() + \")\");\r\n\r\n        if (custemersLists.size() == 0) {\r\n            rv_customer_list.setVisibility(View.GONE);\r\n            txt_not_found.setVisibility(View.VISIBLE);\r\n            //viewUtils.showAlertDialog(this, \"Data not found\", \"There is no data you are searching for\");\r\n        } else {\r\n            txt_not_found.setVisibility(View.GONE);\r\n            rv_customer_list.setVisibility(View.VISIBLE);\r\n            rv_customer_list.setItemViewCacheSize(custemersLists.size());\r\n            RecyclerView.LayoutManager mLayoutManager = new LinearLayoutManager(this, RecyclerView.VERTICAL, false);\r\n            rv_customer_list.setLayoutManager(mLayoutManager);\r\n            customerListAdapter = new CustomerListAdapter(this, custemersLists,this);\r\n            rv_customer_list.setAdapter(customerListAdapter);\r\n            customerListAdapter.notifyDataSetChanged();\r\n        }\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        //initiale intent result\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        IntentResult intentResult = IntentIntegrator.parseActivityResult(requestCode, resultCode, data);\r\n        //check condition\r\n        if (intentResult.getContents() != null) {\r\n            //when result content is not null\r\n            //initialze alert dialog\r\n\r\n\r\n            if (intentResult.getContents() != null) {\r\n                Toast.makeText(CustomerListActivity.this, \"Sub Id: \"+intentResult.getContents(), Toast.LENGTH_SHORT).show();\r\n                Value=intentResult.getContents();\r\n                if (field_name.isEmpty()) {\r\n                    progressBar.show();\r\n                    presenter.loadCustomersDateWise(CustomerListActivity.this, companyId, userId, empId, areaId,  StatusId, selectCont, pageNo, Value, \"\", \"\",\" \",\" \");\r\n                } else {\r\n                    presenter.loadCustomersDateWise(CustomerListActivity.this, companyId, userId, empId, areaId,  StatusId, selectCont, pageNo, \"\", Value, field_name,\" \",\" \");\r\n\r\n                }\r\n            } else {\r\n                Toast.makeText(CustomerListActivity.this, \"Please Scan QR code again!\", Toast.LENGTH_SHORT).show();\r\n            }\r\n\r\n        } else {\r\n            Toast.makeText(CustomerListActivity.this, \"OOPs ... You did not scan any QR\", Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    public void showSearchResult(CustemersList custemersList) {\r\n        List<CustemersList.Customer> custemersLists = custemersList.getCustomer();\r\n        tool_bar_text.setText(\"Customer List (\" + custemersList.getRowcount() + \")\");\r\n\r\n        if (custemersLists.size() == 0) {\r\n            rv_customer_list.setVisibility(View.GONE);\r\n            txt_not_found.setVisibility(View.VISIBLE);\r\n\r\n            //viewUtils.showAlertDialog(this, \"Data not found\", \"There is no data you are searching for\");\r\n        } else {\r\n            txt_not_found.setVisibility(View.GONE);\r\n            rv_customer_list.setVisibility(View.VISIBLE);\r\n            RecyclerView.LayoutManager mLayoutManager = new LinearLayoutManager(this, RecyclerView.VERTICAL, false);\r\n            rv_customer_list.setLayoutManager(mLayoutManager);\r\n            customerListAdapter = new CustomerListAdapter(this, custemersLists,this);\r\n            rv_customer_list.setAdapter(customerListAdapter);\r\n            customerListAdapter.notifyDataSetChanged();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void showArea(final AreaResponse areaResponse) {\r\n\r\n        final List<AreaResponse.Area> area = areaResponse.getArea();\r\n        ArrayList<String> areaNames = new ArrayList<String>();\r\n        final ArrayList<String> areaIds = new ArrayList<String>();\r\n        areaNames.add(\"All Areas\");\r\n        areaIds.add(\"0\");\r\n        for (int i = 0; i < area.size(); i++) {\r\n            areaNames.add(area.get(i).getAreaName());\r\n            areaIds.add(area.get(i).getAreaID().toString());\r\n        }\r\n        areaListAdapter = new ArrayAdapter<String>(this, android.R.layout.simple_dropdown_item_1line, areaNames);\r\n        areaListAdapter.setDropDownViewResource(android.R.layout.simple_dropdown_item_1line);\r\n        spn_area.setAdapter(areaListAdapter);\r\n        AdapterView.OnItemSelectedListener onItemSelectedListener2 =\r\n                new AdapterView.OnItemSelectedListener() {\r\n\r\n                    @Override\r\n                    public void onItemSelected(AdapterView<?> parent, View view, int position, long id) {\r\n\r\n                        if (position > 0) {\r\n                            Value = \"\";\r\n                            custmersearch_edit.setText(\"\");\r\n                            areaId = areaIds.get(position);\r\n                            SharedPrefsData.putString(CustomerListActivity.this, Constants.CustAreaId, areaId, Constants.PREF_NAME);\r\n                            areaId = SharedPrefsData.getString(CustomerListActivity.this, Constants.CustAreaId, Constants.PREF_NAME);\r\n                            presenter.loadCustomersDateWise(CustomerListActivity.this, companyId, userId, empId, areaId,  StatusId, selectCont, pageNo, Value, field_value, field_name,\" \",\" \");\r\n\r\n                            if (i != 1) {\r\n                                progressBar.show();\r\n                                presenter.loadCustomersDateWise(CustomerListActivity.this, companyId, userId, empId, areaId,  StatusId, selectCont, pageNo, Value, field_value, field_name, \" \",\" \");\r\n\r\n                            }\r\n\r\n                        } else {\r\n                            areaId = \"0\";\r\n                            SharedPrefsData.putString(CustomerListActivity.this, Constants.CustAreaId, areaId, Constants.PREF_NAME);\r\n                            Value = \"\";\r\n                            custmersearch_edit.setText(\"\");\r\n                            presenter.loadCustomersDateWise(CustomerListActivity.this, companyId, userId, empId, areaId, StatusId, selectCont, pageNo, Value, field_value, field_name,\" \",\" \");\r\n\r\n                            if (i != 1) {\r\n                                progressBar.show();\r\n                                presenter.loadCustomersDateWise(CustomerListActivity.this, companyId, userId, empId, areaId,  StatusId, selectCont, pageNo, Value, field_value, field_name,\" \",\" \");\r\n\r\n\r\n                            }\r\n                        }\r\n                        if(position==0){\r\n                            areaId=\"\";\r\n\r\n                        }else{\r\n                            try {\r\n                                areaId = area.get(position).getAreaID().toString();\r\n                            } catch (Exception e) {\r\n                                e.printStackTrace();\r\n\r\n                            }\r\n                        }\r\n\r\n\r\n                    }\r\n\r\n                    @Override\r\n                    public void onNothingSelected(AdapterView<?> parent) {\r\n                    }\r\n                };\r\n        spn_area.setOnItemSelectedListener(onItemSelectedListener2);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void showPaymentStatus(PaymentStatusModel areaResponse) {\r\n\r\n        final List<PaymentStatusModel.PaymentstatusDTO> paymentstatus = areaResponse.getPaymentstatus();\r\n\r\n        ArrayList<String> StatusNames = new ArrayList<String>();\r\n        final ArrayList<String> statusIds = new ArrayList<String>();\r\n        StatusNames.add(\"All Status\");\r\n        statusIds.add(\"0\");\r\n        for (int i = 0; i < paymentstatus.size(); i++) {\r\n            StatusNames.add(paymentstatus.get(i).getPayment_Status());\r\n            statusIds.add((paymentstatus.get(i).getStatus_ID()));\r\n        }\r\n\r\n        adapterStatus = new ArrayAdapter<String>(this, android.R.layout.simple_dropdown_item_1line, StatusNames);\r\n        adapterStatus.setDropDownViewResource(android.R.layout.simple_dropdown_item_1line);\r\n        spn_status.setAdapter(adapterStatus);\r\n\r\n        AdapterView.OnItemSelectedListener onItemSelectedListener2 =\r\n                new AdapterView.OnItemSelectedListener() {\r\n\r\n                    @Override\r\n                    public void onItemSelected(AdapterView<?> parent, View view, int position, long id) {\r\n\r\n                        if (position > 0) {\r\n                            Value = \"\";\r\n                            custmersearch_edit.setText(\"\");\r\n                            StatusId = statusIds.get(position);\r\n                            SharedPrefsData.putString(CustomerListActivity.this, Constants.StatusId, StatusId, Constants.PREF_NAME);\r\n                            StatusId = SharedPrefsData.getString(CustomerListActivity.this, Constants.StatusId, Constants.PREF_NAME);\r\n                            progressBar.show();\r\n                            presenter.loadCustomersDateWise(CustomerListActivity.this, companyId, userId, empId, areaId,  StatusId, selectCont, pageNo, Value, field_value, field_name,\" \",\" \");\r\n                            if (i != 1) {\r\n                                progressBar.show();\r\n                                presenter.loadCustomersDateWise(CustomerListActivity.this, companyId, userId, empId, areaId,  StatusId, selectCont, pageNo, Value, field_value, field_name,\" \",\" \");\r\n\r\n                            }\r\n                        } else {\r\n\r\n                            StatusId = \"0\";\r\n                            SharedPrefsData.putString(CustomerListActivity.this, Constants.StatusId, StatusId, Constants.PREF_NAME);\r\n                            Value = \"\";\r\n                            custmersearch_edit.setText(\"\");\r\n                            progressBar.show();\r\n                            presenter.loadCustomersDateWise(CustomerListActivity.this, companyId, userId, empId, areaId,  StatusId, selectCont, pageNo, Value, field_value, field_name,fromDateData,toDataData);\r\n                            if (i != 1) {\r\n                                progressBar.show();\r\n                                presenter.loadCustomersDateWise(CustomerListActivity.this, companyId, userId, empId, areaId,  StatusId, selectCont, pageNo, Value, field_value, field_name,fromDateData,toDataData);\r\n\r\n\r\n                            }\r\n                        }\r\n\r\n\r\n                    }\r\n\r\n                    @Override\r\n                    public void onNothingSelected(AdapterView<?> parent) {\r\n                    }\r\n                };\r\n        spn_status.setOnItemSelectedListener(onItemSelectedListener2);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void showCustomersDateWise(CustemersList custemersList) {\r\n        progressBar.dismiss();\r\n        List<CustemersList.Customer> custemersLists = custemersList.getCustomer();\r\n        tool_bar_text.setText(\"Customer List (\" + custemersList.getRowcount() + \")\");\r\n\r\n        float f = custemersList.getRowcount();\r\n        result = f / 100;\r\n        if (custemersList.getRowcount() < 100) {\r\n            result = 1;\r\n        } else {\r\n            String s = String.valueOf(result);\r\n            char c1 = '0';\r\n            char c2 = '.';\r\n            boolean resul = true;\r\n            int cnt = 0;\r\n            for (int i = 0; i < s.length(); i++) {\r\n                if (s.charAt(i) != c1 || s.charAt(i) != c2) {\r\n                    resul = false;\r\n                }\r\n            }\r\n            if (!resul)\r\n                result = result + 1;\r\n\r\n        }\r\n\r\n\r\n        if (j == 1) {\r\n            RecyclerView.LayoutManager mLayoutManager1 = new LinearLayoutManager(this, RecyclerView.HORIZONTAL, false);\r\n            rv_paging.setLayoutManager(mLayoutManager1);\r\n            pagingAdapter = new PagingAdapter(this, (int) result, adapterCallback);\r\n            rv_paging.setAdapter(pagingAdapter);\r\n            j = j + 1;\r\n        }\r\n\r\n\r\n        if (custemersLists.size() == 0) {\r\n            rv_customer_list.setVisibility(View.GONE);\r\n            txt_not_found.setVisibility(View.VISIBLE);\r\n\r\n            //viewUtils.showAlertDialog(this, \"Data not found\", \"There is no data with the filter you applied\");\r\n        } else {\r\n            txt_not_found.setVisibility(View.GONE);\r\n            i = i + 1;\r\n            rv_customer_list.setVisibility(View.VISIBLE);\r\n            RecyclerView.LayoutManager mLayoutManager = new LinearLayoutManager(this, RecyclerView.VERTICAL, false);\r\n            rv_customer_list.setLayoutManager(mLayoutManager);\r\n            customerListAdapter = new CustomerListAdapter(this, custemersLists,this);\r\n            rv_customer_list.setAdapter(customerListAdapter);\r\n            customerListAdapter.notifyDataSetChanged();\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n\r\n    protected void onResume() {\r\n        super.onResume();\r\n\r\n        if (SharedPrefsData.getString(this, Constants.ReceiptFlag, Constants.ReceiptFlag).equals(\"true\")) {\r\n            SharedPrefsData.putString(this, Constants.ReceiptFlag, \"false\", Constants.ReceiptFlag);\r\n            pageNo = SharedPrefsData.getString(this, Constants.PageNo, Constants.PREF_NAME);\r\n            Value = \"\";\r\n            custmersearch_edit.setText(\"\");\r\n            presenter.loadArea(this,companyId,empId);\r\n            presenter.loadCustomersDateWise(CustomerListActivity.this, companyId, userId, empId, areaId, StatusId, selectCont, pageNo, Value, field_value, field_name,fromDateData,toDataData);\r\n            progressBar = new ProgressDialog(this);\r\n            progressBar.setCancelable(false);//you can cancel it by pressing back button\r\n            progressBar.setMessage(\"Please wait...\");\r\n            progressBar.show();\r\n        }\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        super.onBackPressed();\r\n\r\n        startActivity(new Intent(CustomerListActivity.this, HomeActivity.class));\r\n        finish();\r\n    }\r\n\r\n    @Override\r\n    public void onClickCallback(View view, int position, String id) {\r\n        SharedPrefsData.putString(this, Constants.PageNo, id, Constants.PREF_NAME);\r\n        pageNo = id;\r\n        Value = \"\";\r\n        custmersearch_edit.setText(\"\");\r\n        presenter.loadCustomersDateWise(CustomerListActivity.this, companyId, userId, empId, areaId, StatusId, selectCont, pageNo, Value, field_value, field_name,fromDateData,toDataData);\r\n        progressBar = new ProgressDialog(this);\r\n        progressBar.setCancelable(false);//you can cancel it by pressing back button\r\n        progressBar.setMessage(\"Please wait...\");\r\n        progressBar.show();\r\n    }\r\n\r\n    @Override\r\n    public void onItemClicked(Object custemersLists, ImageView imageActionButton) {\r\n        CustemersList.Customer customer=(CustemersList.Customer)custemersLists;\r\n        customerID=String.valueOf(customer.getCustomerID());\r\n        PopupMenu popup = new PopupMenu(CustomerListActivity.this,imageActionButton);\r\n        //Inflating the Popup using xml file\r\n        popup.getMenuInflater().inflate(R.menu.customeractionmenu, popup.getMenu());\r\n\r\n        //registering popup with OnMenuItemClickListener\r\n        popup.setOnMenuItemClickListener(new PopupMenu.OnMenuItemClickListener() {\r\n            public boolean onMenuItemClick(MenuItem item) {\r\n                if (\"Update Subscription\".equals(item.getTitle().toString())) {\r\n\r\n                    if(hideUpdateSubscription==true) {\r\n                        Log.d(\"TAG\", \"onMenuItemClick: \" + customer.getCustomerID());\r\n                        SharedPrefsData.putBool(CustomerListActivity.this, Constants.isLoadAlacarte, true, Constants.PREF_NAME);\r\n                        SharedPrefsData.putBool(CustomerListActivity.this, Constants.isLoadInternetPkg, true, Constants.PREF_NAME);\r\n                        SharedPrefsData.putBool(CustomerListActivity.this, Constants.isLoadBouquet, true, Constants.PREF_NAME);\r\n                        SharedPrefsData.putString(CustomerListActivity.this, Constants.CustomerID, String.valueOf(customer.getCustomerID()), Constants.PREF_NAME);\r\n                        Intent intent = new Intent(CustomerListActivity.this, UpdateSubscriptionAtivity.class);\r\n                        intent.putExtra(\"CustomerID\", customer);\r\n                        startActivity(intent);\r\n                    }\r\n                    else {\r\n                           Toast.makeText(CustomerListActivity.this, \"You are not Authorize to access this features !\", Toast.LENGTH_SHORT).show();\r\n                    }\r\n\r\n                }\r\n\r\n\r\n                else {\r\n                    Toast.makeText(CustomerListActivity.this, \"Coming Soon !\", Toast.LENGTH_SHORT).show();\r\n                }\r\n                return true;\r\n            }\r\n        });\r\n\r\n        popup.show();//showing popup menu\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/elifeindia/crm/view/activities/CustomerListActivity.java b/app/src/main/java/com/elifeindia/crm/view/activities/CustomerListActivity.java
--- a/app/src/main/java/com/elifeindia/crm/view/activities/CustomerListActivity.java	(revision a4dadc462ffbb478ece7b8edc730850d45722504)
+++ b/app/src/main/java/com/elifeindia/crm/view/activities/CustomerListActivity.java	(date 1726366087805)
@@ -272,7 +272,7 @@
         presenter.getPaymentStatus(CustomerListActivity.this, "0");
        // presenter.loadApi(CustomerListActivity.this, companyId, userId, empId, Value, "100", "1");
 
-         presenter.loadCustomersDateWise(CustomerListActivity.this, companyId, userId, empId, "0", StatusId, selectCont, pageNo, Value, field_value, field_name,"","");
+         presenter.loadCustomersDateWise(CustomerListActivity.this, companyId, userId, empId, areaId, StatusId, selectCont, pageNo, Value, field_value, field_name,"","");
         Log.d("TAG", "onCreateStep4: ");
         RxTextView.textChanges(custmersearch_edit)
                 .debounce(1, TimeUnit.SECONDS)
